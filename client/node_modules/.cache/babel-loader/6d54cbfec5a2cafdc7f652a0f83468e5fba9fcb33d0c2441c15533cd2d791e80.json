{"ast":null,"code":"var _jsxFileName = \"F:\\\\FullStack\\\\2025 - Feb\\\\ExpiryTracking_and_redistribution\\\\client\\\\src\\\\components\\\\Search\\\\AdvancedSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { searchService } from '../../services/search.service';\nimport SearchFilters from './SearchFilters';\nimport SearchResults from './SearchResults';\nimport SavedSearches from './SavedSearches';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport ErrorMessage from '../common/ErrorMessage';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdvancedSearch() {\n  _s();\n  const [searchParams, setSearchParams] = useState({\n    query: '',\n    category: '',\n    minQuantity: '',\n    maxQuantity: '',\n    expiryBefore: '',\n    expiryAfter: '',\n    status: '',\n    page: 1,\n    limit: 10\n  });\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [savedSearches, setSavedSearches] = useState([]);\n  useEffect(() => {\n    loadSavedSearches();\n  }, []);\n  useEffect(() => {\n    if (searchParams.query || searchParams.category) {\n      performSearch();\n    }\n  }, [searchParams.page]);\n  const loadSavedSearches = async () => {\n    try {\n      const searches = await searchService.getSavedSearches();\n      setSavedSearches(searches);\n    } catch (error) {\n      console.error('Load Saved Searches Error:', error);\n    }\n  };\n  const performSearch = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await searchService.searchInventory(searchParams);\n      setResults(data);\n    } catch (error) {\n      setError('Failed to perform search');\n      console.error('Search Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = newParams => {\n    setSearchParams({\n      ...searchParams,\n      ...newParams,\n      page: 1\n    });\n    performSearch();\n  };\n  const handlePageChange = newPage => {\n    setSearchParams({\n      ...searchParams,\n      page: newPage\n    });\n  };\n  const handleSaveSearch = async name => {\n    try {\n      await searchService.saveSearch(name, searchParams);\n      loadSavedSearches();\n    } catch (error) {\n      console.error('Save Search Error:', error);\n    }\n  };\n  const loadSavedSearch = params => {\n    setSearchParams({\n      ...params,\n      page: 1\n    });\n    performSearch();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"advanced-search\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(SearchFilters, {\n          params: searchParams,\n          onSearch: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SavedSearches, {\n          searches: savedSearches,\n          onLoad: loadSavedSearch,\n          onSave: handleSaveSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-content\",\n        children: loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          message: error,\n          onRetry: performSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(SearchResults, {\n          results: results,\n          onPageChange: handlePageChange,\n          currentPage: searchParams.page\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(AdvancedSearch, \"PzIcarHPuhubu0xYjjgYprRMuLY=\");\n_c = AdvancedSearch;\nexport default AdvancedSearch;\nvar _c;\n$RefreshReg$(_c, \"AdvancedSearch\");","map":{"version":3,"names":["React","useState","useEffect","searchService","SearchFilters","SearchResults","SavedSearches","LoadingSpinner","ErrorMessage","jsxDEV","_jsxDEV","AdvancedSearch","_s","searchParams","setSearchParams","query","category","minQuantity","maxQuantity","expiryBefore","expiryAfter","status","page","limit","results","setResults","loading","setLoading","error","setError","savedSearches","setSavedSearches","loadSavedSearches","performSearch","searches","getSavedSearches","console","data","searchInventory","handleSearch","newParams","handlePageChange","newPage","handleSaveSearch","name","saveSearch","loadSavedSearch","params","className","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onLoad","onSave","message","onRetry","onPageChange","currentPage","_c","$RefreshReg$"],"sources":["F:/FullStack/2025 - Feb/ExpiryTracking_and_redistribution/client/src/components/Search/AdvancedSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { searchService } from '../../services/search.service';\r\nimport SearchFilters from './SearchFilters';\r\nimport SearchResults from './SearchResults';\r\nimport SavedSearches from './SavedSearches';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\nimport ErrorMessage from '../common/ErrorMessage';\r\nimport './styles.css';\r\n\r\nfunction AdvancedSearch() {\r\n  const [searchParams, setSearchParams] = useState({\r\n    query: '',\r\n    category: '',\r\n    minQuantity: '',\r\n    maxQuantity: '',\r\n    expiryBefore: '',\r\n    expiryAfter: '',\r\n    status: '',\r\n    page: 1,\r\n    limit: 10\r\n  });\r\n  const [results, setResults] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [savedSearches, setSavedSearches] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadSavedSearches();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParams.query || searchParams.category) {\r\n      performSearch();\r\n    }\r\n  }, [searchParams.page]);\r\n\r\n  const loadSavedSearches = async () => {\r\n    try {\r\n      const searches = await searchService.getSavedSearches();\r\n      setSavedSearches(searches);\r\n    } catch (error) {\r\n      console.error('Load Saved Searches Error:', error);\r\n    }\r\n  };\r\n\r\n  const performSearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const data = await searchService.searchInventory(searchParams);\r\n      setResults(data);\r\n    } catch (error) {\r\n      setError('Failed to perform search');\r\n      console.error('Search Error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (newParams) => {\r\n    setSearchParams({ ...searchParams, ...newParams, page: 1 });\r\n    performSearch();\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setSearchParams({ ...searchParams, page: newPage });\r\n  };\r\n\r\n  const handleSaveSearch = async (name) => {\r\n    try {\r\n      await searchService.saveSearch(name, searchParams);\r\n      loadSavedSearches();\r\n    } catch (error) {\r\n      console.error('Save Search Error:', error);\r\n    }\r\n  };\r\n\r\n  const loadSavedSearch = (params) => {\r\n    setSearchParams({ ...params, page: 1 });\r\n    performSearch();\r\n  };\r\n\r\n  return (\r\n    <div className=\"advanced-search\">\r\n      <div className=\"search-container\">\r\n        <div className=\"search-sidebar\">\r\n          <SearchFilters\r\n            params={searchParams}\r\n            onSearch={handleSearch}\r\n          />\r\n          <SavedSearches\r\n            searches={savedSearches}\r\n            onLoad={loadSavedSearch}\r\n            onSave={handleSaveSearch}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-content\">\r\n          {loading ? (\r\n            <LoadingSpinner />\r\n          ) : error ? (\r\n            <ErrorMessage message={error} onRetry={performSearch} />\r\n          ) : (\r\n            <SearchResults\r\n              results={results}\r\n              onPageChange={handlePageChange}\r\n              currentPage={searchParams.page}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdvancedSearch; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}